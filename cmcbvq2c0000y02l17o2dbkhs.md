---
title: "Aws Ec2에 대해서"
seoTitle: "AWS EC2 개념"
seoDescription: "AWS의 EC2 서비스에 대한 핵심 개념을 정리했습니다."
datePublished: Wed Jun 25 2025 11:36:50 GMT+0000 (Coordinated Universal Time)
cuid: cmcbvq2c0000y02l17o2dbkhs
slug: aws-ec2
tags: ec2, aws

---

## EC2란?

> AWS의 클라우드 컴퓨팅 서비스
> 
> * 클라우드 가상서버(VM)
>     

## 인스턴스 구매옵션

| **온디맨스 인스턴스** | <mark>약정없이 초당 사용한 만큼</mark> 비용 지불 |
| --- | --- |
| **예약 인스턴스** | 1년 또는 3년 <mark>기간을 약정</mark>하여 인스턴스를 사용 |
| **Saving Plan** | 1년 또는 3년 기간의 <mark>일정 사용량을 약정</mark>하여 시간당 요금으로 인스턴스를 사용 |
| **스팟 인스턴스** | <mark>현재 사용하지 않는 예비 용량</mark>의 인스턴스를 구매하여 사용 |
| **전용 호스트/전용 인스턴스** | <mark>전용 물리적 서버</mark>를 할당 받아서 인스턴스를 사용 |
| **온디맨드 용량 예약** | 원하는 기간 동안 <mark>특정 가용 영역의 용량을 예약</mark>하여 인스턴스 사용 |

## EC2 네트워킹

* 인스턴스를 시작할 때 vpc에서 서브넷 선택 가능
    
* 인스턴스 시작시 네트워크 통신을 위해 기본 네트워크 인터페이스가 생성됨
    
* 인스턴스는 서브넷의 IP 주소 대역에서 프라이빗 IP 주소를 기본 네트워크 인터페이스에 할당
    
* 퍼블릭 IP 주소가 필요한 경우 네트워크 인터페이스에 할당
    

## Elastic Network Interface (ENI)

> 가상 네트워크 인터페이스
> 
> * 인스턴스에 연결되어 네트워크 통신을 하는 역할
>     

* IP주소, MAC 주소 등이 부여됨
    
* 인스턴스 생성시 기본 네트워크 인터페이스가 IP 주소등의 정보 할당과 함께 생성됨
    
* EC2에 추가로 여러 개의 네트워크 인터페이스 연결 가능
    
* 인스턴스 유형에 따라 사용 가능한 최대 네트워크 인터페이스 개수와 IP 주소 개수가 다름
    
* <mark>하나 이상의 보안 그룹을 연결할 수 있음</mark>
    
* 네트워크 인터페이스는 <mark>동일한 가용 영역의 인스턴스에 연결 가능</mark>
    

## 보안그룹

> EC2 인스턴스에 대한 인바운드 및 아웃바운드 트래픽을 제어하는 <mark>가상 방화벽 역할</mark>을 한다
> 
> * 연결 상태를 추적하는 <mark>상태 저장 방화벽(Statefull firewall)</mark>
>     

* 인스턴스의 ENI와 연결됨
    
* 보안 그룹은 허용 규칙만 지정 가능하고, <mark>거부 규칙은 지정할 수 없음</mark>
    
* 인바운드 트래픽: 외부에서 EC2 인스턴스로 들어오는 트래픽
    
* 아웃바운드 트래픽: EC2 인스턴스에서 외부로 나가는 트래픽
    
* 제어 규칙
    
    * 트래픽 유형
        
    * 프로토콜
        
    * 포트
        
    * 대상
        

## 탄력적 IP (Elastic IP)

* 퍼블릭 IP : 인터넷 연결에 사용
    
* 프라이빗 IP : 내부에서만 사용하고, 인터넷 게이트웨이를 통해야만 인터넷에 연결 가능함
    
    * 인터넷 게이트웨이도 퍼블릭 IP를 가진다
        

### Elastic IP

> 인터넷에 연결 가능한 정적인 퍼블릭 IP 주소

* 인스턴스 생성시 자동으로 할당되는 퍼블릭 IP는 재시작하면 다른 IP로 바뀌는데, <mark>인스턴스의 ENI에 탄력적 IP를 연결하면 재시작하더라도 동일한 퍼블릭 IP로 접속 가능함</mark>
    
* <mark>생성된 리전 내에서만 사용 가능하고, 다른 리전으로의 이동이 불가함</mark>
    
* 실행중인 인스턴스와 연결되지 않은 탄력적 IP는 소액의 시간당 요금이 부가됨
    

## Amazon Machine Image (AMI)

> 인스턴스 시작에 필요한 <mark>소프트웨어 구성</mark>(운영체제, 애플리케이션 서버 및 애플리케이션)이 포함된 <mark>템플릿</mark>

* 인스턴스 시작시에 AMI를 지정해야 하며, 시작시 OS 설치나 서버 소프트웨어 설정을 별도로 할 필요 없음
    
* 운영중인 EC2를 커스텀 AMI로 만들면 동일 환경으로 구성된 EC2를 빠르게 시작 가능함
    

### AMI 유형

| **Quickstart AMI** | AWS에서 제공하는 자주 사용하는 소프트웨어로 구성된 AMI |
| --- | --- |
| **커스텀 AMI** | 사용자가 직접 만든 AMI |
| **AWS Marketplace AMI** | 서드파티 회사에서 등록한 AMI(온라인 소프트웨어 상점) |
| **커뮤니티 AMI** | AWS 개발자 커뮤니티 회원들이 올린 AMI |

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1750850793170/b515db0c-b1bf-4756-a237-67b03e495fd4.png align="center")

위와 같이 인스턴스 생성시에 AMI를 선택할 수 있다

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1750850801244/dbe6f33e-3d77-416c-b8c7-bc2c5738ba8e.png align="center")

AMI 카탈로그에서 다양한 종류의 AMI를 확인할 수 있다

### 커스텀 AMI를 만드는 방법

1. 커스텀 AMI를 만들고 싶은 EC2에 대한 스냅샷을 생성
    
2. ‘스냅샷에서 이미지 생성’을 클릭
    
3. AMI 탭에서 생성한 커스텀 AMI를 확인할 수 있고, EC2 생성시 내 AMI 탭을 클릭하면 커스텀 AMI로 EC2를 생성할 수 있음
    

## 배치그룹(Placement Groups)

> EC2 인스턴스 그룹의 배치를 구성할 수 있다

### 유형

* **클러스터(Cluster) 배치그룹**
    
    * <mark>단일 가용영역 내의 인스턴스를 고속 네트워크로 연결하여 그룹화</mark>
        
    * 짧은 네트워크 지연시간, 높은 네트워크 처리량 제공
        
    * 고성능 컴퓨팅 애플리케이션에 적합
        
* **파티션(Partition) 배치그룹**
    
    * 인스턴스 그룹을 <mark>하드웨어를 공유하지 않는 파티션 단위로 분할</mark>
        
    * 하나의 하드웨어 장애 발생시 다른 하드웨어에 영향 없음
        
    * 가용 영역당 최대 7개의 파티션을 가질 수 있음
        
    * HDFS, HBase, Cassandra, 하둡 등의 빅데이터 분산처리 시스템에 사용
        
* **분산형(Spread) 배치그룹**
    
    * 그룹 내의 <mark>각 개별 인스턴스가 서로 다른 하드웨어에 배치</mark>
        
        * 각각의 고유한 하드웨어에 배치됨
            
    * 하나의 그룹당 가용영역별로 최대 7개의 실행중인 인스턴스를 가질 수 있음
        
        * 분산그룹의 인스턴스는 동일한 하드웨어를 사용하지 않아 장애 발생시 안전함
            
    * 매우 중요하고 고가용성이 필요한 애플리케이션에 적합함
        

## EC2 라이프 사이클

> EC2 인스턴스의 시작 순간부터 종료될 때까지의 다양한 상태

### 인스턴스 상태

* 시작(Start): 인스턴스 전원을 켜는 것
    
* 재부팅(Reboot): 인스턴스를 재부팅
    
* 중지(Stop): 인스턴스 전원을 끄는 것
    
* 종료(Termination): 인스턴스 삭제
    
* 최대절전모드(Hibernate): 맥의 잠자기 모드 같은 것
    
    * 램에 있는 애플리케이션 상태를 루트 볼륨에 저장
        
    * 부팅 시 로드시간이 오래 걸릴 때 유용
        
* 종료, 중지된 인스턴스
    
    * 시간당 사용 요금이나 데이터 전송 비용을 청구하지 않음
        
    * Amazon EBS 스토리지에 대한 비용은 청구됨